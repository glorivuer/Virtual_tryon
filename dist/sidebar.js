(()=>{"use strict";var e={367:function(e,t,n){var i,o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),r=0;r<n.length;r++)"default"!==n[r]&&o(t,e,n[r]);return a(t,e),t}),s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}d((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const d=r(n(670)),l=r(n(725)),c=n(616);document.addEventListener("DOMContentLoaded",()=>{let e=!1,t=null,n=null,i=null;const o=document.getElementById("upload-button"),a=document.getElementById("file-input"),r=document.getElementById("clear-image-button"),u=document.getElementById("image-preview"),m=document.getElementById("gemini-generate-button"),h=document.getElementById("save-key-button"),g=document.getElementById("api-key-input"),p=document.getElementById("select-apparel-button"),v=document.getElementById("change-apparel-button"),y=document.getElementById("apparel-image-preview"),f=document.getElementById("apparel-result-image"),E=document.getElementById("generate-apparel-button"),b=document.getElementById("download-apparel-button"),w=document.getElementById("back-to-preview-button"),I=document.getElementById("apparel-category-select"),L=document.getElementById("virtual-try-on-button"),k=document.getElementById("try-on-result-image"),A=document.getElementById("download-try-on-button"),B=document.getElementById("start-over-button"),T=document.getElementById("creative-edit-section"),S=document.getElementById("custom-bg-input"),O=document.getElementById("angle-select"),x=document.getElementById("custom-prompt-input"),C=document.getElementById("regenerate-button"),P=document.querySelector(".social-links");function R(){return s(this,void 0,void 0,function*(){const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0});if(!e||void 0===e.id)throw new Error("无法获取活动的标签页。");return e})}function _(e){return s(this,void 0,void 0,function*(){try{const t=yield R();t.id&&chrome.tabs.sendMessage(t.id,{type:"SHOW_FULL_SCREEN_IMAGE",src:e})}catch(t){console.error("无法发送消息到内容脚本:",t),l.openImageModal(e)}})}d.getUserImage().then(l.initializeUI),d.getApiKey().then(e=>{e&&l.setApiKeyValue(e)}),h.addEventListener("click",()=>{const e=g.value.trim();e?d.saveApiKey(e).then(()=>{alert("API Key 已保存！")}):alert("请输入有效的 API Key。")}),o.addEventListener("click",()=>a.click()),a.addEventListener("change",e=>{const t=e.target;if(t.files&&t.files[0]){const e=new FileReader;e.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;d.saveUserImage(n).then(()=>{l.showImagePreview(n)})},e.readAsDataURL(t.files[0])}}),r.addEventListener("click",()=>{d.clearUserImage().then(()=>{a.value="",l.showUploadView()})}),u.addEventListener("click",()=>{u.src&&_(u.src)}),m.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield d.getApiKey();if(!e)return void alert("请先在上方设置您的 Gemini API Key！");const t=yield d.getUserImage();if(t){l.setGeminiButtonLoading(!0);try{const n=yield(0,c.generateFullBodyImage)(t,e);yield d.saveUserImage(n),l.showImagePreview(n)}catch(e){console.error("Gemini API Error:",e),alert(`图片生成失败: ${e instanceof Error?e.message:"未知错误"}`)}finally{l.setGeminiButtonLoading(!1)}}else alert("未找到需要处理的图片。")})),p.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){try{const t=yield R();e=!e,l.setApparelSelectionMode(e),e?yield chrome.scripting.executeScript({target:{tabId:t.id},files:["image-selector.js"]}):yield chrome.tabs.sendMessage(t.id,{type:"CANCEL_SELECTION"})}catch(t){console.error("脚本注入或通信失败:",t),alert("无法在此页面上选择图片。请尝试刷新页面或在其他页面上使用。"),e=!1,l.setApparelSelectionMode(!1)}})),y.addEventListener("click",()=>{y.src&&_(y.src)}),v.addEventListener("click",()=>{t=null,l.showApparelSelectionView()}),E.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield d.getApiKey();if(!e)return void alert("请先在上方设置您的 Gemini API Key！");const n=y.src;if(!n)return void alert("未找到需要处理的服饰图片。");const i=I.value;l.setGenerateButtonLoading(!0);try{const o=yield function(e){return s(this,void 0,void 0,function*(){const t=yield fetch(e),n=yield t.blob();return new Promise((e,t)=>{const i=new FileReader;i.onloadend=()=>e(i.result),i.onerror=t,i.readAsDataURL(n)})})}(n),a=yield(0,c.extractApparelFromImage)(o,i,e);t=a,l.showApparelResult(a)}catch(e){console.error("Apparel Extraction Error:",e),alert(`服饰提取失败: ${e instanceof Error?e.message:"未知错误"}`)}finally{l.setGenerateButtonLoading(!1)}})),f.addEventListener("click",()=>{f.src&&_(f.src)}),b.addEventListener("click",()=>{const e=f.src;if(!e)return;const t=document.createElement("a");t.href=e,t.download=`generated-apparel-${Date.now()}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}),w.addEventListener("click",()=>l.hideApparelResult()),L.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield d.getApiKey();if(!e)return void alert("请先在上方设置您的 Gemini API Key！");const o=yield d.getUserImage(),a=t;if(o&&a){l.setTryOnButtonLoading(!0);try{const t=yield(0,c.performVirtualTryOn)(o,a,e);n=t,i=null,l.showTryOnResult(t)}catch(e){console.error("Virtual Try-On Error:",e),alert(`虚拟试穿失败: ${e instanceof Error?e.message:"未知错误"}`)}finally{l.setTryOnButtonLoading(!1)}}else alert("错误：缺少模特或服饰图片数据。请返回并重试。")})),k.addEventListener("click",()=>{k.src&&_(k.src)}),A.addEventListener("click",()=>{const e=k.src;if(!e)return;const t=document.createElement("a");t.href=e,t.download=`virtual-try-on-${Date.now()}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}),B.addEventListener("click",()=>{t=null,n=null,i=null,document.querySelectorAll(".preset-button.active").forEach(e=>e.classList.remove("active")),S.value="",S.disabled=!0,S.placeholder="点击上方“自定义”后输入场景",O.selectedIndex=0,x.value="",l.showApparelSelectionView()}),T.addEventListener("click",e=>{const t=e.target;if(!t.classList.contains("preset-button"))return;document.querySelectorAll('.preset-button[data-type="background"], .preset-button[data-type="custom-bg"]').forEach(e=>{e.classList.remove("active")});const n=t.dataset.type;if("background"===n){const e=t.dataset.prompt;e&&(S.value=e,S.disabled=!0,t.classList.add("active"))}else"custom-bg"===n&&(S.value="",S.disabled=!1,S.placeholder="请输入自定义场景, e.g., 'at the beach'",S.focus(),t.classList.add("active"))}),C.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield d.getApiKey();if(!e||!n)return void alert("缺少 API Key 或基础图片，无法重新生成。");let t=[];const o=S.value.trim(),a=O.value.trim(),r=x.value.trim();if(o&&t.push(`Change the background to: ${o}.`),a&&t.push(`Change the model's pose and camera angle to: ${a}.`),r&&t.push(r),0===t.length)return void alert("请输入或选择至少一个创意指令！");const s=t.join(" ");l.setRegenerateButtonLoading(!0);try{const t=yield(0,c.regenerateWithCreativeEdit)(n,s,e);n=t,i=null,k.src=t}catch(e){console.error("Creative Regeneration Error:",e),alert(`创意生成失败: ${e instanceof Error?e.message:"未知错误"}`)}finally{l.setRegenerateButtonLoading(!1)}})),P.addEventListener("click",e=>s(void 0,void 0,void 0,function*(){e.preventDefault();const t=e.target.closest(".social-link");if(t&&!t.classList.contains("disabled"))if(n)try{i||(alert("首次分享需要上传图片，请稍候..."),i=yield function(e){return s(this,void 0,void 0,function*(){var t;const n=e.split(",")[1],i=new FormData;i.append("image",n);const o=yield fetch("https://api.imgbb.com/1/upload?key=a6d210a0e9d6275ad39c1d2884a7b84f",{method:"POST",body:i});if(!o.ok)throw new Error("图片上传服务失败。");const a=yield o.json();if(a.success&&a.data.url)return a.data.url;throw new Error(`图片上传失败: ${(null===(t=a.error)||void 0===t?void 0:t.message)||"未知错误"}`)})}(n));const e=encodeURIComponent("看看我的新造型！这是由AI虚拟试衣间Chrome扩展生成的。"),o=encodeURIComponent(i);let a="";switch(t.id){case"share-twitter":a=`https://twitter.com/intent/tweet?text=${e}&url=${o}`;break;case"share-pinterest":a=`https://pinterest.com/pin/create/button/?url=${o}&media=${o}&description=${e}`;break;case"share-facebook":a=`https://www.facebook.com/sharer/sharer.php?u=${o}`;break;default:return}chrome.tabs.create({url:a})}catch(e){console.error("分享准备失败:",e),alert(`分享失败: ${e.message}`)}else alert("没有可分享的图片。")})),chrome.runtime.onMessage.addListener((t,n,i)=>{"IMAGE_SELECTED"===t.type&&t.url&&(l.showApparelPreview(t.url),e=!1,l.setApparelSelectionMode(!1),i({status:"ok"}))})})},616:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}d((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.generateFullBodyImage=function(e,t){return n(this,void 0,void 0,function*(){var n,a,r,s,d,l,c,u;const m=e.split(",")[1],h={contents:[{parts:[{text:o},{inline_data:{mime_type:"image/jpeg",data:m}}]}]},g=yield fetch(i,{method:"POST",headers:{"x-goog-api-key":t,"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok){const e=yield g.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||g.statusText}`)}const p=yield g.json(),v=null===(d=null===(s=null===(r=null===(a=p.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===d?void 0:d.find(e=>e.inlineData),y=null===(l=null==v?void 0:v.inlineData)||void 0===l?void 0:l.data;if(!y){console.error("Gemini API Full Response:",JSON.stringify(p,null,2));const e=null===(u=null===(c=p.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason,t=p.promptFeedback;if(null==t?void 0:t.blockReason)throw new Error(`请求被安全策略阻止 (${t.blockReason})。请尝试一张不包含清晰人脸或更常规的照片。`);switch(e){case"STOP":throw new Error("AI 模型完成了运行但没有输出图像。这通常是由于安全策略限制（例如，包含人物的图片）。请尝试一张不同的照片。");case"SAFETY":throw new Error("请求因安全原因被拒绝。请确保您的图片和提示内容是适当的。");case"RECITATION":throw new Error("请求被拒绝，因为可能生成受版权保护的内容。");default:throw new Error(`未能生成图片，API 返回了未知原因: ${JSON.stringify(e||p)}`)}}return`data:image/jpeg;base64,${y}`})},t.extractApparelFromImage=function(e,t,o){return n(this,void 0,void 0,function*(){var n,a,r,s,d,l,c,u;let m="";switch(t){case"all items":m='\nIdentify EVERY SINGLE fashion item in the photo. This includes all clothing (like shirts, pants, dresses), accessories (like handbags, hats, belts, sunglasses), and footwear.\nExtract ALL of them.\nIf there are multiple items, arrange them neatly side-by-side, like a "flat lay" or "knolling" photograph. DO NOT overlap the items. Ensure every item is fully visible.\n      ';break;case"clothing":m="\nIdentify only the main clothing items (e.g., shirt, jacket, trousers, dress, skirt).\nIgnore accessories like bags, glasses, hats, and jewelry.\nExtract the identified clothing pieces. If there are multiple clothing items (e.g., a top and pants), arrange them neatly side-by-side without overlapping.\n      ";break;case"accessories":m="\nIdentify ONLY the fashion accessories. This includes items like the handbag, hat, sunglasses, scarf, belt, etc.\nIgnore the main clothing (shirt, pants, etc.) and footwear.\nExtract ALL identified accessories. Arrange them neatly side-by-side on the white background without overlapping. It is critical that you find every single accessory.\n      ";break;default:m="\nIdentify EVERY SINGLE fashion item in the photo. This includes all clothing, accessories, and footwear.\nExtract ALL of them and arrange them neatly side-by-side without overlapping.\n      "}const h={contents:[{parts:[{text:"\nYou are an expert e-commerce product image editor. Your task is to extract specific items from the provided photograph.\nThe final output MUST be a single image with a completely clean, plain white background (#FFFFFF).\nRemove the model, background, and any other distracting elements entirely.\n  "+m},{inline_data:{mime_type:"image/jpeg",data:e.split(",")[1]}}]}]},g=yield fetch(i,{method:"POST",headers:{"x-goog-api-key":o,"Content-Type":"application/json"},body:JSON.stringify(h)});if(!g.ok){const e=yield g.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||g.statusText}`)}const p=yield g.json(),v=null===(d=null===(s=null===(r=null===(a=p.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===d?void 0:d.find(e=>e.inlineData),y=null===(l=null==v?void 0:v.inlineData)||void 0===l?void 0:l.data;if(!y){console.error("Gemini API Full Response:",JSON.stringify(p,null,2));const e=(null===(u=null===(c=p.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason)||"Unknown";throw new Error(`AI 未能提取服饰。原因: ${e}. 请检查控制台日志获取详情。`)}return`data:image/jpeg;base64,${y}`})},t.performVirtualTryOn=function(e,t,o){return n(this,void 0,void 0,function*(){var n,a,r,s,d,l,c,u;const m={contents:[{parts:[{text:"\nYou are a master fashion stylist and photo editor. Your task is to create a realistic virtual try-on image.\nYou will be given two images: The first is the person (the model), the second is the clothing item.\nYour job is to realistically dress the person from the first image in the clothing item from the second image.\nCRITICAL: Ensure the fit, drape, lighting, and shadows of the clothing look completely natural on the person's body.\nMaintain the original background and the exact pose of the person from the first image. Do not change the person's face or body.\nThe output MUST be a high-fidelity, photorealistic image.\n"},{inline_data:{mime_type:"image/jpeg",data:e.split(",")[1]}},{inline_data:{mime_type:"image/jpeg",data:t.split(",")[1]}}]}]},h=yield fetch(i,{method:"POST",headers:{"x-goog-api-key":o,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!h.ok){const e=yield h.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||h.statusText}`)}const g=yield h.json(),p=null===(d=null===(s=null===(r=null===(a=g.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===d?void 0:d.find(e=>e.inlineData),v=null===(l=null==p?void 0:p.inlineData)||void 0===l?void 0:l.data;if(!v){console.error("Gemini API Full Response (Try-On):",JSON.stringify(g,null,2));const e=null===(u=null===(c=g.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason,t=g.promptFeedback;if(null==t?void 0:t.blockReason)throw new Error(`请求被安全策略阻止 (${t.blockReason})。请尝试不同的模特或服饰图片。`);switch(e){case"STOP":throw new Error("AI 模型完成了运行但没有输出试穿图。这通常是由于安全策略限制。请尝试不同的图片。");case"SAFETY":throw new Error("请求因安全原因被拒绝。请确保您的模特和服饰图片都是适当的。");case"RECITATION":throw new Error("请求被拒绝，因为可能生成受版权保护的内容。");default:throw new Error(`未能生成试穿图，API 返回了未知原因: ${JSON.stringify(e||g)}`)}}return`data:image/jpeg;base64,${v}`})},t.regenerateWithCreativeEdit=function(e,t,o){return n(this,void 0,void 0,function*(){var n,a,r,s,d,l,c,u;const m={contents:[{parts:[{text:`\nYou are a creative director for a high-end fashion magazine photoshoot.\nUsing the provided image as a base, your task is to re-imagine and regenerate it based on a specific creative instruction.\n\n**CRITICAL RULES:**\n1.  **DO NOT CHANGE THE PERSON'S IDENTITY:** The face, body shape, and ethnicity of the person in the base image MUST remain exactly the same.\n2.  **DO NOT CHANGE THE CLOTHING:** The clothing item(s) the person is wearing MUST remain identical to the base image. Do not add, remove, or change any clothing.\n\n**YOUR CREATIVE TASK:**\nApply the following change to the image: "${t}"\n\n**FINAL STYLE:**\nThe output image MUST be a photorealistic, professional-grade fashion photograph. It should have dynamic, compelling lighting and a natural, confident model pose suitable for the new context.\n`},{inline_data:{mime_type:"image/jpeg",data:e.split(",")[1]}}]}]},h=yield fetch(i,{method:"POST",headers:{"x-goog-api-key":o,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!h.ok){const e=yield h.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||h.statusText}`)}const g=yield h.json(),p=null===(d=null===(s=null===(r=null===(a=g.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===d?void 0:d.find(e=>e.inlineData),v=null===(l=null==p?void 0:p.inlineData)||void 0===l?void 0:l.data;if(!v){console.error("Gemini API Full Response (Regeneration):",JSON.stringify(g,null,2));const e=(null===(u=null===(c=g.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason)||"Unknown";throw new Error(`AI 未能重新生成图片。原因: ${e}.`)}return`data:image/jpeg;base64,${v}`})};const i="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent",o="Based on the person in the uploaded image, realistically extend their body to create a full-body photograph. Maintain the same clothing style, lighting, and overall aesthetic as the original photo. The person should be standing in a neutral pose against a simple, light-gray background."},670:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}d((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.saveUserImage=function(e){return n(this,void 0,void 0,function*(){yield chrome.storage.local.set({[i]:e})})},t.getUserImage=function(){return n(this,void 0,void 0,function*(){return(yield chrome.storage.local.get(i))[i]||null})},t.clearUserImage=function(){return n(this,void 0,void 0,function*(){yield chrome.storage.local.remove(i)})},t.saveApiKey=function(e){return n(this,void 0,void 0,function*(){yield chrome.storage.local.set({[o]:e})})},t.getApiKey=function(){return n(this,void 0,void 0,function*(){return(yield chrome.storage.local.get(o))[o]||null})};const i="user-photo-base64",o="gemini-api-key"},725:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setGeminiButtonLoading=function(e){const t=document.getElementById("gemini-generate-button");if(!t)return;const n=t.querySelector(".button-text"),i=t.querySelector(".spinner");n&&i&&(e?(t.disabled=!0,n.textContent="Generating...",i.classList.remove("hidden")):(t.disabled=!1,n.textContent="Generate Full Body (Gemini)",i.classList.add("hidden")))},t.setApiKeyValue=function(e){a&&(a.value=e)},t.showImagePreview=f,t.showUploadView=E,t.openImageModal=function(e){y&&v&&(y.src=e,v.classList.remove("hidden"))},t.closeImageModal=function(){v&&v.classList.add("hidden")},t.initializeUI=function(e){e?f(e):E()},t.setApparelSelectionMode=function(e){r&&(e?(r.textContent="Cancel Selection",r.classList.remove("button-primary"),r.classList.add("button-danger")):(r.textContent="Select Image from Page",r.classList.remove("button-danger"),r.classList.add("button-primary")))},t.showApparelPreview=function(e){l&&s&&d&&(l.src=e,s.classList.add("hidden"),d.classList.remove("hidden"))},t.setGenerateButtonLoading=function(e){const t=document.getElementById("generate-apparel-button");if(!t)return;const n=t.querySelector(".button-text"),i=t.querySelector(".spinner");n&&i&&(e?(t.disabled=!0,n.textContent="Extracting...",i.classList.remove("hidden")):(t.disabled=!1,n.textContent="Extract Apparel Image",i.classList.add("hidden")))},t.showApparelResult=function(e){d&&c&&u&&(u.src=e,d.classList.add("hidden"),c.classList.remove("hidden"))},t.hideApparelResult=function(){d&&c&&(d.classList.remove("hidden"),c.classList.add("hidden"))},t.setTryOnButtonLoading=function(e){const t=document.getElementById("virtual-try-on-button");if(!t)return;const n=t.querySelector(".button-text"),i=t.querySelector(".spinner");n&&i&&(e?(t.disabled=!0,n.textContent="Applying...",i.classList.remove("hidden")):(t.disabled=!1,n.textContent="✨ Virtual Try-On",i.classList.add("hidden")))},t.setRegenerateButtonLoading=function(e){const t=document.getElementById("regenerate-button");if(!t)return;const n=t.querySelector(".button-text"),i=t.querySelector(".spinner");n&&i&&(e?(t.disabled=!0,n.textContent="Regenerating...",i.classList.remove("hidden")):(t.disabled=!1,n.textContent="Regenerate",i.classList.add("hidden")))},t.showTryOnResult=function(e){m&&h&&g&&p&&(g.src=e,m.classList.add("hidden"),h.classList.remove("hidden"),p.classList.remove("hidden"))},t.showApparelSelectionView=function(){m&&s&&d&&c&&h&&p&&l&&(m.classList.remove("hidden"),s.classList.remove("hidden"),d.classList.add("hidden"),c.classList.add("hidden"),h.classList.add("hidden"),p.classList.add("hidden"),l.src="")};const n=document.getElementById("upload-view"),i=document.getElementById("preview-view"),o=document.getElementById("image-preview"),a=document.getElementById("api-key-input"),r=document.getElementById("select-apparel-button"),s=document.getElementById("apparel-selection-view"),d=document.getElementById("apparel-preview-view"),l=document.getElementById("apparel-image-preview"),c=document.getElementById("apparel-result-view"),u=document.getElementById("apparel-result-image"),m=document.getElementById("apparel-section"),h=document.getElementById("try-on-result-view"),g=document.getElementById("try-on-result-image"),p=document.getElementById("creative-edit-section-container"),v=document.getElementById("image-modal"),y=document.getElementById("modal-image");function f(e){o&&n&&i&&(o.src=e,n.classList.add("hidden"),i.classList.remove("hidden"))}function E(){n&&i&&o&&(n.classList.remove("hidden"),i.classList.add("hidden"),o.src="")}}},t={};!function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}(367)})();