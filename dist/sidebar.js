(()=>{"use strict";var e={367:function(e,t,n){var o,i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),r=0;r<n.length;r++)"default"!==n[r]&&i(t,e,n[r]);return a(t,e),t}),s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const l=r(n(670)),d=r(n(725)),c=n(616);document.addEventListener("DOMContentLoaded",()=>{let e=!1,t=null,n=null,o=null;const i=document.getElementById("model-section"),a=document.getElementById("apparel-section"),r=document.getElementById("try-on-result-view"),u=document.getElementById("upload-button"),m=document.getElementById("file-input"),g=document.getElementById("clear-image-button"),h=document.getElementById("gemini-generate-button"),p=document.getElementById("save-key-button"),v=document.getElementById("api-key-input"),y=document.getElementById("select-apparel-button"),f=document.getElementById("change-apparel-button"),b=document.getElementById("generate-apparel-button"),E=document.getElementById("download-apparel-button"),w=document.getElementById("back-to-preview-button"),I=document.getElementById("apparel-category-select"),L=document.getElementById("virtual-try-on-button"),k=document.getElementById("download-try-on-button"),A=document.getElementById("start-over-button"),B=document.getElementById("creative-edit-section"),T=document.getElementById("custom-bg-input"),S=document.getElementById("angle-select"),x=document.getElementById("custom-prompt-input"),O=document.getElementById("regenerate-button"),C=document.querySelector(".social-links"),P=document.querySelector(".modal-close-button");function R(){return s(this,void 0,void 0,function*(){const[e]=yield chrome.tabs.query({active:!0,currentWindow:!0});if(!e||void 0===e.id)throw new Error("Could not get active tab.");return e})}function _(e){return s(this,void 0,void 0,function*(){var t;try{const n=yield R();if(!n.id||(null===(t=n.url)||void 0===t?void 0:t.startsWith("chrome://")))throw new Error("Cannot send message to internal Chrome pages.");const o=yield chrome.tabs.sendMessage(n.id,{type:"PING"});if(!o||"PONG"!==o.status)throw new Error("Content script responded unexpectedly.");chrome.tabs.sendMessage(n.id,{type:"SHOW_FULL_SCREEN_IMAGE",src:e})}catch(t){console.warn("Could not connect to content script. Falling back to sidebar modal. Error:",t),d.openImageModal(e)}})}l.getUserImage().then(d.initializeUI),l.getApiKey().then(e=>{e&&d.setApiKeyValue(e)}),i.addEventListener("click",e=>{const t=e.target;"IMG"===t.tagName&&t.src&&_(t.src)}),a.addEventListener("click",e=>{const t=e.target;"IMG"===t.tagName&&t.src&&_(t.src)}),r.addEventListener("click",e=>{const t=e.target;"IMG"===t.tagName&&t.src&&_(t.src)}),P&&P.addEventListener("click",d.closeImageModal),p.addEventListener("click",()=>{const e=v.value.trim();e?l.saveApiKey(e).then(()=>{alert("API Key saved!")}):alert("Please enter a valid API Key.")}),u.addEventListener("click",()=>m.click()),m.addEventListener("change",e=>{const t=e.target;if(t.files&&t.files[0]){const e=new FileReader;e.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;l.saveUserImage(n).then(()=>{d.showImagePreview(n)})},e.readAsDataURL(t.files[0])}}),g.addEventListener("click",()=>{l.clearUserImage().then(()=>{m.value="",d.showUploadView()})}),h.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield l.getApiKey();if(!e)return void alert("Please set your Gemini API Key above first!");const t=yield l.getUserImage();if(t){d.setGeminiButtonLoading(!0);try{const n=yield(0,c.generateFullBodyImage)(t,e);yield l.saveUserImage(n),d.showImagePreview(n)}catch(e){console.error("Gemini API Error:",e),alert(`Image generation failed: ${e instanceof Error?e.message:"Unknown error"}`)}finally{d.setGeminiButtonLoading(!1)}}else alert("No image found to process.")})),y.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){try{const t=yield R();e=!e,d.setApparelSelectionMode(e),e?yield chrome.scripting.executeScript({target:{tabId:t.id},files:["image-selector.js"]}):yield chrome.tabs.sendMessage(t.id,{type:"CANCEL_SELECTION"})}catch(t){console.error("Script injection or communication failed:",t),alert("Cannot select images on this page. Please try refreshing or using it on another page."),e=!1,d.setApparelSelectionMode(!1)}})),f.addEventListener("click",()=>{t=null,d.showApparelSelectionView()}),b.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield l.getApiKey();if(!e)return void alert("Please set your Gemini API Key above first!");const n=document.getElementById("apparel-image-preview").src;if(!n)return void alert("No apparel image found to process.");const o=I.value;d.setGenerateButtonLoading(!0);try{const i=yield function(e){return s(this,void 0,void 0,function*(){const t=yield fetch(e),n=yield t.blob();return new Promise((e,t)=>{const o=new FileReader;o.onloadend=()=>e(o.result),o.onerror=t,o.readAsDataURL(n)})})}(n),a=yield(0,c.extractApparelFromImage)(i,o,e);t=a,d.showApparelResult(a)}catch(e){console.error("Apparel Extraction Error:",e),alert(`Apparel extraction failed: ${e instanceof Error?e.message:"Unknown error"}`)}finally{d.setGenerateButtonLoading(!1)}})),E.addEventListener("click",()=>{const e=document.getElementById("apparel-result-image").src;if(!e)return;const t=document.createElement("a");t.href=e,t.download=`generated-apparel-${Date.now()}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}),w.addEventListener("click",()=>d.hideApparelResult()),L.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield l.getApiKey();if(!e)return void alert("Please set your Gemini API Key above first!");const i=yield l.getUserImage(),a=t;if(i&&a){d.setTryOnButtonLoading(!0);try{const t=yield(0,c.performVirtualTryOn)(i,a,e);n=t,o=null,d.showTryOnResult(t)}catch(e){console.error("Virtual Try-On Error:",e),alert(`Virtual try-on failed: ${e instanceof Error?e.message:"Unknown error"}`)}finally{d.setTryOnButtonLoading(!1)}}else alert("Error: Missing model or apparel image data. Please go back and retry.")})),k.addEventListener("click",()=>{const e=document.getElementById("try-on-result-image").src;if(!e)return;const t=document.createElement("a");t.href=e,t.download=`virtual-try-on-${Date.now()}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}),A.addEventListener("click",()=>{t=null,n=null,o=null,document.querySelectorAll(".preset-button.active").forEach(e=>e.classList.remove("active")),T.value="",T.disabled=!0,T.placeholder="Click 'Custom' above to enter a scene",S.selectedIndex=0,x.value="",d.showApparelSelectionView()}),B.addEventListener("click",e=>{const t=e.target;if(!t.classList.contains("preset-button"))return;document.querySelectorAll('.preset-button[data-type="background"], .preset-button[data-type="custom-bg"]').forEach(e=>{e.classList.remove("active")});const n=t.dataset.type;if("background"===n){const e=t.dataset.prompt;e&&(T.value=e,T.disabled=!0,t.classList.add("active"))}else"custom-bg"===n&&(T.value="",T.disabled=!1,T.placeholder="Enter custom scene, e.g., 'at the beach'",T.focus(),t.classList.add("active"))}),O.addEventListener("click",()=>s(void 0,void 0,void 0,function*(){const e=yield l.getApiKey();if(!e||!n)return void alert("Missing API Key or base image. Cannot regenerate.");let t=[];const i=T.value.trim(),a=S.value.trim(),r=x.value.trim();if(i&&t.push(`Change the background to: ${i}.`),a&&t.push(`Change the model's pose and camera angle to: ${a}.`),r&&t.push(r),0===t.length)return void alert("Please enter or select at least one creative instruction!");const s=t.join(" ");d.setRegenerateButtonLoading(!0);try{const t=yield(0,c.regenerateWithCreativeEdit)(n,s,e);n=t,o=null,document.getElementById("try-on-result-image").src=t}catch(e){console.error("Creative Regeneration Error:",e),alert(`Creative regeneration failed: ${e instanceof Error?e.message:"Unknown error"}`)}finally{d.setRegenerateButtonLoading(!1)}})),C.addEventListener("click",e=>s(void 0,void 0,void 0,function*(){e.preventDefault();const t=e.target.closest(".social-link");if(t&&!t.classList.contains("disabled"))if(n)try{o||(alert("Uploading image for first share, please wait..."),o=yield function(){return s(this,void 0,void 0,function*(){throw new Error("Please configure your imgbb API Key in the sidebar.ts file!")})}());const e=encodeURIComponent("Check out my new look! Generated by the AI Virtual Try-On Chrome extension."),n=encodeURIComponent(o);let i="";switch(t.id){case"share-twitter":i=`https://twitter.com/intent/tweet?text=${e}&url=${n}`;break;case"share-pinterest":i=`https://pinterest.com/pin/create/button/?url=${n}&media=${n}&description=${e}`;break;case"share-facebook":i=`https://www.facebook.com/sharer/sharer.php?u=${n}`;break;default:return}chrome.tabs.create({url:i})}catch(e){console.error("Share preparation failed:",e),alert(`Share failed: ${e.message}`)}else alert("No image available to share.")})),chrome.runtime.onMessage.addListener((t,n,o)=>("IMAGE_SELECTED"===t.type&&t.url&&(d.showApparelPreview(t.url),e=!1,d.setApparelSelectionMode(!1),o({status:"ok"})),!0))})},616:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.generateFullBodyImage=function(e,t){return n(this,void 0,void 0,function*(){var n,a,r,s,l,d,c,u;const m=e.split(",")[1],g={contents:[{parts:[{text:i},{inline_data:{mime_type:"image/jpeg",data:m}}]}]},h=yield fetch(o,{method:"POST",headers:{"x-goog-api-key":t,"Content-Type":"application/json"},body:JSON.stringify(g)});if(!h.ok){const e=yield h.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||h.statusText}`)}const p=yield h.json(),v=null===(l=null===(s=null===(r=null===(a=p.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.find(e=>e.inlineData),y=null===(d=null==v?void 0:v.inlineData)||void 0===d?void 0:d.data;if(!y){console.error("Gemini API Full Response:",JSON.stringify(p,null,2));const e=null===(u=null===(c=p.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason,t=p.promptFeedback;if(null==t?void 0:t.blockReason)throw new Error(`请求被安全策略阻止 (${t.blockReason})。请尝试一张不包含清晰人脸或更常规的照片。`);switch(e){case"STOP":throw new Error("AI 模型完成了运行但没有输出图像。这通常是由于安全策略限制（例如，包含人物的图片）。请尝试一张不同的照片。");case"SAFETY":throw new Error("请求因安全原因被拒绝。请确保您的图片和提示内容是适当的。");case"RECITATION":throw new Error("请求被拒绝，因为可能生成受版权保护的内容。");default:throw new Error(`未能生成图片，API 返回了未知原因: ${JSON.stringify(e||p)}`)}}return`data:image/jpeg;base64,${y}`})},t.extractApparelFromImage=function(e,t,i){return n(this,void 0,void 0,function*(){var n,a,r,s,l,d,c,u;let m="";switch(t){case"all items":m='\nIdentify EVERY SINGLE fashion item in the photo. This includes all clothing (like shirts, pants, dresses), accessories (like handbags, hats, belts, sunglasses), and footwear.\nExtract ALL of them.\nIf there are multiple items, arrange them neatly side-by-side, like a "flat lay" or "knolling" photograph. DO NOT overlap the items. Ensure every item is fully visible.\n      ';break;case"clothing":m="\nIdentify only the main clothing items (e.g., shirt, jacket, trousers, dress, skirt).\nIgnore accessories like bags, glasses, hats, and jewelry.\nExtract the identified clothing pieces. If there are multiple clothing items (e.g., a top and pants), arrange them neatly side-by-side without overlapping.\n      ";break;case"accessories":m="\nIdentify ONLY the fashion accessories. This includes items like the handbag, hat, sunglasses, scarf, belt, etc.\nIgnore the main clothing (shirt, pants, etc.) and footwear.\nExtract ALL identified accessories. Arrange them neatly side-by-side on the white background without overlapping. It is critical that you find every single accessory.\n      ";break;default:m="\nIdentify EVERY SINGLE fashion item in the photo. This includes all clothing, accessories, and footwear.\nExtract ALL of them and arrange them neatly side-by-side without overlapping.\n      "}const g={contents:[{parts:[{text:"\nYou are an expert e-commerce product image editor. Your task is to extract specific items from the provided photograph.\nThe final output MUST be a single image with a completely clean, plain white background (#FFFFFF).\nRemove the model, background, and any other distracting elements entirely.\n  "+m},{inline_data:{mime_type:"image/jpeg",data:e.split(",")[1]}}]}]},h=yield fetch(o,{method:"POST",headers:{"x-goog-api-key":i,"Content-Type":"application/json"},body:JSON.stringify(g)});if(!h.ok){const e=yield h.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||h.statusText}`)}const p=yield h.json(),v=null===(l=null===(s=null===(r=null===(a=p.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.find(e=>e.inlineData),y=null===(d=null==v?void 0:v.inlineData)||void 0===d?void 0:d.data;if(!y){console.error("Gemini API Full Response:",JSON.stringify(p,null,2));const e=(null===(u=null===(c=p.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason)||"Unknown";throw new Error(`AI 未能提取服饰。原因: ${e}. 请检查控制台日志获取详情。`)}return`data:image/jpeg;base64,${y}`})},t.performVirtualTryOn=function(e,t,i){return n(this,void 0,void 0,function*(){var n,a,r,s,l,d,c,u;const m={contents:[{parts:[{text:"\nYou are a master fashion stylist and photo editor. Your task is to create a realistic virtual try-on image.\nYou will be given two images: The first is the person (the model), the second is the clothing item.\nYour job is to realistically dress the person from the first image in the clothing item from the second image.\nCRITICAL: Ensure the fit, drape, lighting, and shadows of the clothing look completely natural on the person's body.\nMaintain the original background and the exact pose of the person from the first image. Do not change the person's face or body.\nThe output MUST be a high-fidelity, photorealistic image.\n"},{inline_data:{mime_type:"image/jpeg",data:e.split(",")[1]}},{inline_data:{mime_type:"image/jpeg",data:t.split(",")[1]}}]}]},g=yield fetch(o,{method:"POST",headers:{"x-goog-api-key":i,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){const e=yield g.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||g.statusText}`)}const h=yield g.json(),p=null===(l=null===(s=null===(r=null===(a=h.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.find(e=>e.inlineData),v=null===(d=null==p?void 0:p.inlineData)||void 0===d?void 0:d.data;if(!v){console.error("Gemini API Full Response (Try-On):",JSON.stringify(h,null,2));const e=null===(u=null===(c=h.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason,t=h.promptFeedback;if(null==t?void 0:t.blockReason)throw new Error(`请求被安全策略阻止 (${t.blockReason})。请尝试不同的模特或服饰图片。`);switch(e){case"STOP":throw new Error("AI 模型完成了运行但没有输出试穿图。这通常是由于安全策略限制。请尝试不同的图片。");case"SAFETY":throw new Error("请求因安全原因被拒绝。请确保您的模特和服饰图片都是适当的。");case"RECITATION":throw new Error("请求被拒绝，因为可能生成受版权保护的内容。");default:throw new Error(`未能生成试穿图，API 返回了未知原因: ${JSON.stringify(e||h)}`)}}return`data:image/jpeg;base64,${v}`})},t.regenerateWithCreativeEdit=function(e,t,i){return n(this,void 0,void 0,function*(){var n,a,r,s,l,d,c,u;const m={contents:[{parts:[{text:`\nYou are a creative director for a high-end fashion magazine photoshoot.\nUsing the provided image as a base, your task is to re-imagine and regenerate it based on a specific creative instruction.\n\n**CRITICAL RULES:**\n1.  **DO NOT CHANGE THE PERSON'S IDENTITY:** The face, body shape, and ethnicity of the person in the base image MUST remain exactly the same.\n2.  **DO NOT CHANGE THE CLOTHING:** The clothing item(s) the person is wearing MUST remain identical to the base image. Do not add, remove, or change any clothing.\n\n**YOUR CREATIVE TASK:**\nApply the following change to the image: "${t}"\n\n**FINAL STYLE:**\nThe output image MUST be a photorealistic, professional-grade fashion photograph. It should have dynamic, compelling lighting and a natural, confident model pose suitable for the new context.\n`},{inline_data:{mime_type:"image/jpeg",data:e.split(",")[1]}}]}]},g=yield fetch(o,{method:"POST",headers:{"x-goog-api-key":i,"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){const e=yield g.json();throw new Error(`API 请求失败: ${(null===(n=e.error)||void 0===n?void 0:n.message)||g.statusText}`)}const h=yield g.json(),p=null===(l=null===(s=null===(r=null===(a=h.candidates)||void 0===a?void 0:a[0])||void 0===r?void 0:r.content)||void 0===s?void 0:s.parts)||void 0===l?void 0:l.find(e=>e.inlineData),v=null===(d=null==p?void 0:p.inlineData)||void 0===d?void 0:d.data;if(!v){console.error("Gemini API Full Response (Regeneration):",JSON.stringify(h,null,2));const e=(null===(u=null===(c=h.candidates)||void 0===c?void 0:c[0])||void 0===u?void 0:u.finishReason)||"Unknown";throw new Error(`AI 未能重新生成图片。原因: ${e}.`)}return`data:image/jpeg;base64,${v}`})};const o="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent",i="Based on the person in the uploaded image, realistically extend their body to create a full-body photograph. Maintain the same clothing style, lighting, and overall aesthetic as the original photo. The person should be standing in a neutral pose against a simple, light-gray background."},670:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}l((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.saveUserImage=function(e){return n(this,void 0,void 0,function*(){yield chrome.storage.local.set({[o]:e})})},t.getUserImage=function(){return n(this,void 0,void 0,function*(){return(yield chrome.storage.local.get(o))[o]||null})},t.clearUserImage=function(){return n(this,void 0,void 0,function*(){yield chrome.storage.local.remove(o)})},t.saveApiKey=function(e){return n(this,void 0,void 0,function*(){yield chrome.storage.local.set({[i]:e})})},t.getApiKey=function(){return n(this,void 0,void 0,function*(){return(yield chrome.storage.local.get(i))[i]||null})};const o="user-photo-base64",i="gemini-api-key"},725:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setGeminiButtonLoading=function(e){const t=document.getElementById("gemini-generate-button");if(!t)return;const n=t.querySelector(".button-text"),o=t.querySelector(".spinner");n&&o&&(e?(t.disabled=!0,n.textContent="Generating...",o.classList.remove("hidden")):(t.disabled=!1,n.textContent="Generate Full Body (Gemini)",o.classList.add("hidden")))},t.setApiKeyValue=function(e){a&&(a.value=e)},t.showImagePreview=f,t.showUploadView=b,t.openImageModal=function(e){y&&v&&(y.src=e,v.classList.remove("hidden"))},t.closeImageModal=function(){v&&v.classList.add("hidden")},t.initializeUI=function(e){e?f(e):b()},t.setApparelSelectionMode=function(e){r&&(e?(r.textContent="Cancel Selection",r.classList.remove("button-primary"),r.classList.add("button-danger")):(r.textContent="Select Image from Page",r.classList.remove("button-danger"),r.classList.add("button-primary")))},t.showApparelPreview=function(e){d&&s&&l&&(d.src=e,s.classList.add("hidden"),l.classList.remove("hidden"))},t.setGenerateButtonLoading=function(e){const t=document.getElementById("generate-apparel-button");if(!t)return;const n=t.querySelector(".button-text"),o=t.querySelector(".spinner");n&&o&&(e?(t.disabled=!0,n.textContent="Extracting...",o.classList.remove("hidden")):(t.disabled=!1,n.textContent="Extract Apparel Image",o.classList.add("hidden")))},t.showApparelResult=function(e){l&&c&&u&&(u.src=e,l.classList.add("hidden"),c.classList.remove("hidden"))},t.hideApparelResult=function(){l&&c&&(l.classList.remove("hidden"),c.classList.add("hidden"))},t.setTryOnButtonLoading=function(e){const t=document.getElementById("virtual-try-on-button");if(!t)return;const n=t.querySelector(".button-text"),o=t.querySelector(".spinner");n&&o&&(e?(t.disabled=!0,n.textContent="Applying...",o.classList.remove("hidden")):(t.disabled=!1,n.textContent="✨ Virtual Try-On",o.classList.add("hidden")))},t.setRegenerateButtonLoading=function(e){const t=document.getElementById("regenerate-button");if(!t)return;const n=t.querySelector(".button-text"),o=t.querySelector(".spinner");n&&o&&(e?(t.disabled=!0,n.textContent="Regenerating...",o.classList.remove("hidden")):(t.disabled=!1,n.textContent="Regenerate",o.classList.add("hidden")))},t.showTryOnResult=function(e){m&&g&&h&&p&&(h.src=e,m.classList.add("hidden"),g.classList.remove("hidden"),p.classList.remove("hidden"))},t.showApparelSelectionView=function(){m&&s&&l&&c&&g&&p&&d&&(m.classList.remove("hidden"),s.classList.remove("hidden"),l.classList.add("hidden"),c.classList.add("hidden"),g.classList.add("hidden"),p.classList.add("hidden"),d.src="")};const n=document.getElementById("upload-view"),o=document.getElementById("preview-view"),i=document.getElementById("image-preview"),a=document.getElementById("api-key-input"),r=document.getElementById("select-apparel-button"),s=document.getElementById("apparel-selection-view"),l=document.getElementById("apparel-preview-view"),d=document.getElementById("apparel-image-preview"),c=document.getElementById("apparel-result-view"),u=document.getElementById("apparel-result-image"),m=document.getElementById("apparel-section"),g=document.getElementById("try-on-result-view"),h=document.getElementById("try-on-result-image"),p=document.getElementById("creative-edit-section-container"),v=document.getElementById("image-modal"),y=document.getElementById("modal-image");function f(e){i&&n&&o&&(i.src=e,n.classList.add("hidden"),o.classList.remove("hidden"))}function b(){n&&o&&i&&(n.classList.remove("hidden"),o.classList.add("hidden"),i.src="")}}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}(367)})();